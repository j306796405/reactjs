{"version":3,"sources":["zen.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;QA8BgB,Q,GAAA,Q;;kBAwCD,YAAwC;AAAA,MAA9B,KAA8B,yDAAtB,YAAsB;AAAA,MAAR,MAAQ;;AACrD,MAAM,UAAU,gBAAgB,OAAO,IAAvB,CAAhB;;AAEA,SAAO,UAAU,QAAQ,KAAR,EAAe,MAAf,CAAV,GAAmC,KAA1C;AACD,C;;;;;;;AAvED,IAAM,cAAc,aAApB;AACA,IAAM,cAAc,aAApB;AACA,IAAM,YAAY,WAAlB;;;;;;AAMA,SAAS,UAAT,GAAuB;AACrB,SAAO;AACL,UAAM;AADD,GAAP;AAGD;;AAED,IAAI,cAAc,CAAlB;AACO,IAAM,kCAAa,SAAb,UAAa,CAAC,KAAD;AAAA,SAAY;AACpC,UAAM,WAD8B;AAEpC,aAAS;AACP,YAAM,KADC;AAEP,UAAI;AAFG;AAF2B,GAAZ;AAAA,CAAnB;;AAQA,IAAM,8BAAW,SAAX,QAAW;AAAA,SAAO;AAC7B,UAAM;AADuB,GAAP;AAAA,CAAjB;;AAIA,SAAS,QAAT,GAAqB;AAC1B,SAAO,UAAC,QAAD,EAAW,QAAX,EAAwB;AAC7B,QAAI,WAAW,GAAX,CAAe,QAAnB,EAA6B;;AAE7B,aAAS,YAAT;AACA,WAAO,MAAM,4BAAN,EACJ,IADI,CACC;AAAA,aAAQ,KAAK,IAAL,EAAR;AAAA,KADD,EAEJ,IAFI,CAEC;AAAA,aAAQ,SAAS,WAAW,IAAX,CAAT,CAAR;AAAA,KAFD,CAAP;AAGD,GAPD;AAQD;;AAEM,IAAM,4BAAU;AACrB,wBADqB;AAErB,wBAFqB;AAGrB,oBAHqB;AAIrB;AAJqB,CAAhB;;;;;AAUP,IAAM,0FACH,WADG,EACW,UAAC,KAAD,EAAW;AACxB,oCAAY,KAAZ,IAAmB,UAAU,IAA7B;AACD,CAHG,mDAIH,WAJG,EAIW,UAAC,KAAD,EAAQ,MAAR,EAAmB;AAChC,oCAAY,KAAZ,IAAmB,UAAU,KAA7B,EAAoC,MAAM,MAAM,IAAN,CAAW,MAAX,CAAkB,OAAO,OAAzB,CAA1C;AACD,CANG,mDAOH,SAPG,EAOS,UAAC,KAAD,EAAW;AACtB,oCAAY,KAAZ,IAAmB,MAAM,EAAzB;AACD,CATG,oBAAN;;;;;AAeA,IAAM,eAAe;AACnB,YAAU,KADS;AAEnB,QAAM;AAFa,CAArB","file":"zen-compiled.js","sourcesContent":["// ------------------------------------\r\n// Constants\r\n// ------------------------------------\r\nconst RECEIVE_ZEN = 'RECEIVE_ZEN'\r\nconst REQUEST_ZEN = 'REQUEST_ZEN'\r\nconst CLEAR_ZEN = 'CLEAR_ZEN'\r\n\r\n// ------------------------------------\r\n// Actions\r\n// ------------------------------------\r\n\r\nfunction requestZen () {\r\n  return {\r\n    type: REQUEST_ZEN\r\n  }\r\n}\r\n\r\nlet avaliableId = 0\r\nexport const receiveZen = (value) => ({\r\n  type: RECEIVE_ZEN,\r\n  payload: {\r\n    text: value,\r\n    id: avaliableId++\r\n  }\r\n})\r\n\r\nexport const clearZen = () => ({\r\n  type: CLEAR_ZEN\r\n})\r\n\r\nexport function fetchZen () {\r\n  return (dispatch, getState) => {\r\n    if (getState().zen.fetching) return\r\n\r\n    dispatch(requestZen())\r\n    return fetch('https://api.github.com/zen')\r\n      .then(data => data.text())\r\n      .then(text => dispatch(receiveZen(text)))\r\n  }\r\n}\r\n\r\nexport const actions = {\r\n  requestZen,\r\n  receiveZen,\r\n  clearZen,\r\n  fetchZen\r\n}\r\n\r\n// ------------------------------------\r\n// Action Handlers\r\n// ------------------------------------\r\nconst ACTION_HANDLERS = {\r\n  [REQUEST_ZEN]: (state) => {\r\n    return ({...state, fetching: true})\r\n  },\r\n  [RECEIVE_ZEN]: (state, action) => {\r\n    return ({...state, fetching: false, text: state.text.concat(action.payload)})\r\n  },\r\n  [CLEAR_ZEN]: (state) => {\r\n    return ({...state, text: []})\r\n  }\r\n}\r\n\r\n// ------------------------------------\r\n// Reducer\r\n// ------------------------------------\r\nconst initialState = {\r\n  fetching: false,\r\n  text: []\r\n}\r\nexport default function (state = initialState, action) {\r\n  const handler = ACTION_HANDLERS[action.type]\r\n\r\n  return handler ? handler(state, action) : state\r\n}\r\n"]}